{% extends 'layout/layout1.html' %}

{% block content %}
<div class="rbt-main-content">
    <div class="rbt-daynamic-page-content">
        <!-- Sidebar for Categories -->
        <div>
            <form method="get" class="form-inline mb-4">
                <div class="form-group mr-3">
                    <label for="categorySelect" class="mr-2">AI Repository Type</label>
                    <select class="form-control" id="categorySelect" name="category" onchange="this.form.submit()">
                        <option value="finance" {% if selected_category == 'finance' %}selected{% endif %}>Finance</option>
                        <option value="education" {% if selected_category == 'education' %}selected{% endif %}>Education</option>
                    </select>
                </div>
            </form>
        </div>

        <!-- Product Page Content -->
        <div class="rbt-product-content">
            <div class="content-page">
                <div class="row">
                    {% for repo in repos %}
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card h-100 shadow-sm smart-card">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title mb-2">
                                    <a href="{{ repo.url }}" target="_blank" class="text-primary">{{ repo.name }}</a>
                                </h5>
                                <p class="card-text text-muted small mb-3">{{ repo.description }}</p>
                                <div class="d-flex align-items-center mb-2">
                                    <svg class="octicon octicon-star text-warning" width="16" height="16" fill="currentColor" aria-hidden="true">
                                        <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
                                    </svg>
                                    <span class="ml-2 font-weight-bold">{{ repo.stars }} stars</span>
                                    <br>
                                    <!-- <span class="ml-auto text-muted small">Updated on: {{ repo.lastUpdated|slice:":12" }}</span> -->
                                </div>
                                
                                <div class="mb-3">
                                    {% if repo.topics %}
                                        {% for tag in repo.topics %}
                                        <span class="badge badge-pill badge-secondary text-white">{{ tag }}</span>
                                        {% endfor %}
                                    {% else %}
                                        <span class="text-muted small">No tags available</span>
                                    {% endif %}
                                </div>
                                <div class="mt-auto">
                                    <a href="{{ repo.url }}" target="_blank" class="btn btn-outline-primary btn-block" style="background: linear-gradient(94deg, #dd00ac 10.66%, #7130c3 53.03%, #410093 96.34%, rgba(255, 0, 238, 0.26) 191.41%, rgba(255, 59, 212, 0) 191.43%);">Open Repository</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .smart-card {
        border: none;
        border-radius: 10px;
        overflow: hidden;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        background-color: #1c1c1e;
    }
    .smart-card:hover {
        transform: translateY(-5px);
        box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.1);
    }
    .card-title a {
        color: #439eff;
        text-decoration: none;
        font-size: 1.5rem;
        font-weight: 600;
    }
    .card-title a:hover {
        text-decoration: underline;
    }
    .card-text {
        font-size: 1.01rem;
        color: #6c757d;
    }
    .badge-pill {
        font-size: 0.9rem;
        background-color: #3ea1f8;
        padding: 6px 10px;
        border-radius: 20px;
        margin-right: 5px;
    }
    .btn-outline-primary {
        color: #000000;
        border-color: #007bff;
        font-weight: 500;
    }
    .btn-outline-primary:hover {
        color: #ffffff;
        background-color: #fff;
    }
</style>
{% endblock %}
